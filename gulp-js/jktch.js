window.Modernizr=function(t,e,i){function n(t){y.cssText=t}function s(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var s=t[n];if(!o(s,"-")&&y[s]!==i)return"pfx"==e?s:!0}return!1}function a(t,e,n){for(var o in t){var r=e[t[o]];if(r!==i)return n===!1?t[o]:s(r,"function")?r.bind(n||e):r}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+b.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?r(o,e):(o=(t+" "+C.join(n+" ")+n).split(" "),a(o,e,i))}var h,c,u,p="2.8.2",d={},f=!0,g=e.documentElement,m="modernizr",v=e.createElement(m),y=v.style,w=({}.toString,"Webkit Moz O ms"),b=w.split(" "),C=w.toLowerCase().split(" "),x={},E=[],T=E.slice,D={}.hasOwnProperty;u=s(D,"undefined")||s(D.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return D.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=T.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var o=new s,r=e.apply(o,i.concat(T.call(arguments)));return Object(r)===r?r:o}return e.apply(t,i.concat(T.call(arguments)))};return n}),x.csstransitions=function(){return l("transition")};for(var S in x)u(x,S)&&(c=S.toLowerCase(),d[c]=x[S](),E.push((d[c]?"":"no-")+c));return d.addTest=function(t,e){if("object"==typeof t)for(var n in t)u(t,n)&&d.addTest(n,t[n]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(g.className+=" "+(e?"":"no-")+t),d[t]=e}return d},n(""),v=h=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,i,n){if(i||(i=e),c)return i.createElement(t);n||(n=s(i));var o;return o=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!o.canHaveChildren||d.test(t)||o.tagUrn?o:n.frag.appendChild(o)}function r(t,i){if(t||(t=e),c)return t.createDocumentFragment();i=i||s(t);for(var o=i.frag.cloneNode(),r=0,a=n(),l=a.length;l>r;r++)o.createElement(a[r]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return y.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var n=s(t);return y.shivCSS&&!h&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||a(t,n),t}var h,c,u="3.7.0",p=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",h="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){h=!0,c=!0}}();var y={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:p.shivCSS!==!1,supportsUnknownElements:c,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:r};t.html5=y,l(e)}(this,e),d._version=p,d._domPrefixes=C,d._cssomPrefixes=b,d.testProp=function(t){return r([t])},d.testAllProps=l,d.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+E.join(" "):""),d}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==m.call(t)}function s(t){return"string"==typeof t}function o(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?p.injectCss:p.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,i,n,s,o,l,h){function c(e){if(!d&&r(u.readyState)&&(w.r=d=1,!y&&a(),u.onload=u.onreadystatechange=null,e)){"img"!=t&&f(function(){C.removeChild(u)},50);for(var n in S[i])S[i].hasOwnProperty(n)&&S[i][n].onload()}}var h=h||p.errorTimeout,u=e.createElement(t),d=0,m=0,w={t:n,s:i,e:o,a:l,x:h};1===S[i]&&(m=1,S[i]=[]),"object"==t?u.data=i:(u.src=i,u.type=t),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){c.call(this,m)},v.splice(s,0,w),"img"!=t&&(m||2===S[i]?(C.insertBefore(u,b?null:g),f(c,h)):S[i].push(u))}function h(t,e,i,n,o){return y=0,e=e||"j",s(t)?l("c"==e?E:x,t,e,this.i++,i,n,o):(v.splice(this.i++,0,t),1==v.length&&a()),this}function c(){var t=p;return t.loader={load:h,i:0},t}var u,p,d=e.documentElement,f=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,w="MozAppearance"in d.style,b=w&&!!e.createRange().compareNode,C=b?d:g.parentNode,d=t.opera&&"[object Opera]"==m.call(t.opera),d=!!e.attachEvent&&!d,x=w?"object":d?"script":"img",E=d?"script":x,T=Array.isArray||function(t){return"[object Array]"==m.call(t)},D=[],S={},M={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};p=function(t){function e(t){var e,i,n,t=t.split("!"),s=D.length,o=t.pop(),r=t.length,o={url:o,origUrl:o,prefixes:t};for(i=0;r>i;i++)n=t[i].split("="),(e=M[n.shift()])&&(o=e(o,n));for(i=0;s>i;i++)o=D[i](o);return o}function r(t,s,o,r,a){var l=e(t),h=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(s&&(s=n(s)?s:s[t]||s[r]||s[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,s,o,r,a):(S[l.url]?l.noexec=!0:S[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(s)||n(h))&&o.load(function(){c(),s&&s(l.origUrl,a,r),h&&h(l.origUrl,a,r),S[l.url]=2})))}function a(t,e){function i(t,i){if(t){if(s(t))i||(u=function(){var t=[].slice.call(arguments);p.apply(this,t),d()}),r(t,u,e,0,h);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--a&&(n(u)?u=function(){var t=[].slice.call(arguments);p.apply(this,t),d()}:u[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(p[l])),r(t[l],u,e,l,h))}else!i&&d()}var a,l,h=!!t.test,c=t.load||t.both,u=t.callback||o,p=u,d=t.complete||o;i(h?t.yep:t.nope,!!c),c&&i(c)}var l,h,u=this.yepnope.loader;if(s(t))r(t,0,u,0);else if(T(t))for(l=0;l<t.length;l++)h=t[l],s(h)?r(h,0,u,0):T(h)?p(h):Object(h)===h&&a(h,u);else Object(t)===t&&a(t,u)},p.addPrefix=function(t,e){M[t]=e},p.addFilter=function(t){D.push(t)},p.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",u=function(){e.removeEventListener("DOMContentLoaded",u,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,n,s,l,h){var c,u,d=e.createElement("script"),s=s||p.errorTimeout;d.src=t;for(u in n)d.setAttribute(u,n[u]);i=h?a:i||o,d.onreadystatechange=d.onload=function(){!c&&r(d.readyState)&&(c=1,i(),d.onload=d.onreadystatechange=null)},f(function(){c||(c=1,i(1))},s),l?d.onload():g.parentNode.insertBefore(d,g)},t.yepnope.injectCss=function(t,i,n,s,r,l){var h,s=e.createElement("link"),i=l?a:i||o;s.href=t,s.rel="stylesheet",s.type="text/css";for(h in n)s.setAttribute(h,n[h]);r||(g.parentNode.insertBefore(s,g),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e){"function"==typeof define&&define.amd?define(e):t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<e.length;n++)if(void 0!==i[e[n]+t])return e[n]+t}var e=function(t,e){this.bindMethods(),this.options=this.applyDefaults(e||{}),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};e.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var i,n,s;if(t.getElementsByClassName){if(i=t.getElementsByClassName(e),i.length>0)return i[0]}else for(n=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=t.getElementsByTagName("*"),s=0;s<i.length;s++)if(n.test(i[s].className))return i[s]},calculateStepRatios:function(){var t=[];if(this.options.steps>1)for(var e=0;e<=this.options.steps-1;e++)t[e]=e/(this.options.steps-1);return t},setWrapperOffset:function(){this.offset.wrapper=l.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){this.onHandleMouseDown=i(this.onHandleMouseDown,this),this.onHandleTouchStart=i(this.onHandleTouchStart,this),this.onDocumentMouseMove=i(this.onDocumentMouseMove,this),this.onWrapperTouchMove=i(this.onWrapperTouchMove,this),this.onWrapperMouseDown=i(this.onWrapperMouseDown,this),this.onWrapperTouchStart=i(this.onWrapperTouchStart,this),this.onDocumentMouseUp=i(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=i(this.onDocumentTouchEnd,this),this.onHandleClick=i(this.onHandleClick,this),this.onWindowResize=i(this.onWindowResize,this)},bindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize);var t=this;this.interval=setInterval(function(){t.animate()},25),this.animate(!1,!0)},unbindEventListeners:function(){s(this.handle,"mousedown",this.onHandleMouseDown),s(this.handle,"touchstart",this.onHandleTouchStart),s(document,"mousemove",this.onDocumentMouseMove),s(this.wrapper,"touchmove",this.onWrapperTouchMove),s(this.wrapper,"mousedown",this.onWrapperMouseDown),s(this.wrapper,"touchstart",this.onWrapperTouchStart),s(document,"mouseup",this.onDocumentMouseUp),s(document,"touchend",this.onDocumentTouchEnd),s(this.handle,"click",this.onHandleClick),s(window,"resize",this.onWindowResize),clearInterval(this.interval)},onHandleMouseDown:function(t){a.refresh(t),o(t),r(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){a.refresh(t),r(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){a.refresh(t),this.dragging&&(this.activity=!0)},onWrapperTouchMove:function(t){return a.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(o(t),void(this.activity=!0))},onWrapperMouseDown:function(t){a.refresh(t),o(t),this.startTap()},onWrapperTouchStart:function(t){a.refresh(t),o(t),this.startTap()},onDocumentMouseUp:function(){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(o(t),r(t))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(t,e,i){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([a.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,a.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[a.x-l.get(this.handle)[0],a.y-l.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass))},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.options.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,"")}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),n=[a.x-this.offset.wrapper[0]-this.offset.mouse[0],a.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(n,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*this.options.speed,this.value.current[1]+=t[1]*this.options.speed):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.offset.current=this.getOffsetsByRatios(this.options.snap?this.getClosestSteps(this.value.current):this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&h.transform?(this.options.horizontal&&(t+="translate3d("+this.offset.current[0]+"px, 0, 0)"),this.options.vertical&&(t+=" translate3d(0, "+this.offset.current[1]+"px, 0)"),void(this.handle.style[h.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var i=this.getRatiosByOffsets(t),n=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,n=0;n<=this.options.steps-1;n++)Math.abs(this.stepRatios[n]-t)<i&&(i=Math.abs(this.stepRatios[n]-t),e=n);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&a.xDiff>a.yDiff||!this.options.vertical&&a.yDiff>a.xDiff}};var i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},s=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},o=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},r=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},a={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,i=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-i)}},l={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},h={transform:t("transform")};return e}),function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=n(t,e)?o:s;i(t,e)}var n,s,o;"classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},s=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(n=function(t,i){return e(i).test(t.className)},s=function(t,e){n(t,e)||(t.className=t.className+" "+e)},o=function(t,i){t.className=t.className.replace(e(i)," ")});var r={hasClass:n,addClass:s,removeClass:o,toggleClass:i,has:n,add:s,remove:o,toggle:i};"function"==typeof define&&define.amd?define(r):t.classie=r}(window),function(t){"use strict";function e(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function i(t,i){this.el=t,this.options=e({},this.options),e(this.options,i),this._init()}var n=(t.document.documentElement,{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}),s=n[Modernizr.prefixed("transition")],o={transitions:Modernizr.csstransitions};i.prototype.options={perspective:"1200",slideshowRatio:.3,onToggle:function(){return!1},onToggleContent:function(){return!1},onToggleContentComplete:function(){return!1}},i.prototype._init=function(){var t=this;this.current=0,this.isFullscreen=!0,this.imgDragger=this.el.querySelector(".objects"),this.handle=this.imgDragger.querySelector("div.handle"),this.slides=[].slice.call(this.handle.children),this.slidesCount=this.slides.length,this.slidesCount<1||(this.slideshowRatio=this.options.slideshowRatio,classie.add(this.slides[this.current],"current"),this.pages=this.el.querySelector("section.pages"),this.handle.style.width=100*this.slidesCount+"%",this.slides.forEach(function(e){e.style.width=100/t.slidesCount+"%"}),this._initDragDealer(),this._initEvents())},i.prototype._initEvents=function(){var t=this;this.slides.forEach(function(e){e.addEventListener("click",function(){return t.isFullscreen||t.dd.activity||t.isAnimating?!1:void(t.slides.indexOf(e)===t.current?t.toggle():t.dd.setStep(t.slides.indexOf(e)+1))}),e.querySelector("a.view-project").addEventListener("click",function(){t._toggleContent(e)})}),document.addEventListener("keydown",function(e){{var i=e.keyCode||e.which;t.slides[t.current]}switch(i){case 37:t.dd.setStep(t.current);break;case 39:t.dd.setStep(t.current+2)}})},i.prototype._getContentPage=function(t){return this.pages.querySelector('div.content[data-content = "'+t.getAttribute("data-content")+'"]')},i.prototype._toggleContent=function(t){if(this.isAnimating)return!1;this.isAnimating=!0,this.options.onToggleContent();var e=this._getContentPage(t);if(this.isContent){this.dd.enable(),classie.remove(this.el,"show-content");for(var i=document.querySelectorAll("a.view-project"),n=0;n<i.length;n++)i[n].innerHTML="View Project"}else{e.scrollTop=0,this.dd.disable(),classie.add(this.el,"show-content"),classie.add(e,"show");for(var i=document.querySelectorAll("a.view-project"),n=0;n<i.length;n++)i[n].innerHTML="Back To Projects"}var r=this,a=function(t){if(o.transitions){if(-1===t.propertyName.indexOf("transform")||t.target!==this)return;this.removeEventListener(s,a)}r.isContent&&classie.remove(e,"show"),r.isContent=!r.isContent,r.isAnimating=!1,r.options.onToggleContentComplete()};o.transitions?this.el.addEventListener(s,a):a()},i.prototype._initDragDealer=function(){var t=this;this.dd=new Dragdealer(this.imgDragger,{steps:this.slidesCount,speed:.4,loose:!0,requestAnimationFrame:!0,callback:function(e,i){t._navigate(e,i)}})},i.prototype._navigate=function(){classie.remove(this.slides[this.current||0],"current"),this.current=this.dd.getStep()[0]-1,classie.add(this.slides[this.current],"current")},i.prototype.toggle=function(){if(this.isAnimating)return!1;this.isAnimating=!0,this._preserve3dSlides(!0),this.options.onToggle(),classie.remove(this.el,this.isFullscreen?"switch-max":"switch-min"),classie.add(this.el,this.isFullscreen?"switch-min":"switch-max");var t=this,e=this.options.perspective,i=this.options.slideshowRatio,n=this.isFullscreen?e-e/i:e-e*i;this.imgDragger.style.WebkitTransform="perspective("+this.options.perspective+"px) translate3d( -50%, -50%, "+n+"px )",this.imgDragger.style.transform="perspective("+this.options.perspective+"px) translate3d( -50%, -50%, "+n+"px )";var r=function(e){if(o.transitions){if(-1===e.propertyName.indexOf("transform"))return;this.removeEventListener(s,r)}t.isFullscreen||t._preserve3dSlides(),classie.remove(this,t.isFullscreen?"img-dragger-large":"img-dragger-small"),classie.add(this,t.isFullscreen?"img-dragger-small":"img-dragger-large"),t.imgDragger.style.WebkitTransform="translate3d( -50%, -50%, 0px )",t.imgDragger.style.transform="translate3d( -50%, -50%, 0px )",this.style.width=t.isFullscreen?100*t.options.slideshowRatio+"%":"100%",this.style.height=t.isFullscreen?100*t.options.slideshowRatio+"%":"100%",t.dd.reflow(),t.isFullscreen=!t.isFullscreen,t.isAnimating=!1};o.transitions?this.imgDragger.addEventListener(s,r):r()},i.prototype._preserve3dSlides=function(t){this.slides.forEach(function(e){e.style.transformStyle=t?"preserve-3d":""})},t.DragSlideshow=i}(window),function(){header=document.getElementById("header"),toggleCtrls=function(){slideshow.isContent||classie.add(header,"hide")},toggleCompleteCtrls=function(){slideshow.isContent||classie.remove(header,"hide")},slideshow=new DragSlideshow(document.getElementById("smart-object"),{})}();var fauxParallax=function(){function t(t){for(var e=document.querySelectorAll(".top > img"),s=document.querySelectorAll(".bottom > img"),o=0;o<e.length;o++){var r=1/i,a=1/n,p=t.clientX-n/2,d=t.clientY-i/2,f=a*p*-1,g=r*d*-1,m=a*p*-.8,v=r*d*-.8;e[o].style.transform="translate3d("+l+"px,"+h+"px,0)rotateX("+g+"deg)rotateY("+f+"deg)",e[o].style.MozTransform="translate3d("+l+"px,"+h+"px,0)rotateX("+g+"deg)rotateY("+f+"deg)",e[o].style.WebkitTransform="translate3d("+l+"px,"+h+"px,0)rotateX("+g+"deg)rotateY("+f+"deg)",e[o].style.msTransform="translate3d("+l+"px,"+h+"px,0)rotateX("+g+"deg)rotateY("+f+"deg)",e[o].style.OTransform="translate3d("+l+"px,"+h+"px,0)rotateX("+g+"deg)rotateY("+f+"deg)",s[o].style.transform="translate3d("+c+"px,"+u+"px,-10px)rotateX("+v+"deg)rotateY("+m+"deg)"}}function e(t){for(var e=document.querySelectorAll(".life-top > img"),s=0;s<e.length;s++){var o=1/i,r=1/n,a=t.clientX-n/2,l=t.clientY-i/2,h=r*a*-1,c=o*l*-1;e[s].style.transform="translate3d(0,0,0)rotateX("+c+"deg)rotateY("+h+"deg)"}}for(var i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=1.434*i,o=1.3*n,r=1.544*i,a=1.4*n,l=(n-o)/2,h=(i-s)/2,c=(n-a)/2,u=(i-r)/2,p=document.querySelectorAll(".top > img"),d=0;d<p.length;d++)p[d].style.height=""+s+"px",p[d].style.width=""+o+"px",p[d].style.transform="translate3d("+l+"px,"+h+"px,0)";for(var f=document.querySelectorAll(".bottom > img"),d=0;d<f.length;d++)f[d].style.height=""+r+"px",f[d].style.width=""+a+"px",f[d].style.transform="translate3d("+c+"px,"+u+"px,-10px)",f[d].style.opacity=".4";for(var g=document.querySelectorAll(".smart-object"),d=0;d<g.length;d++)g[d].onmousemove=function(){t(event)};var m=document.getElementById("life-chest");m.onmousemove=function(){e(event)}};fauxParallax(),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("intro");classie.add(t,"loaded")},!1);